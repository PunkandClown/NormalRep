<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat</title>
</head>
<body>

        <textarea id="messT" cols="30" rows="10"></textarea>
        <button onclick="sending()"></button>

    <div id="btnst" class="chatBox">
    </div>

</body>

    <script>
        const list = document.getElementById('btnst');

        let xhr = new XMLHttpRequest();

        function sending() {
            let messT = document.getElementById('messT').value;
            xhr.open('POST', 'http://10.1.0.48:1337/main'); // как обычно свой ip я убрал переменную

            console.log(messT); //вывожу данные из поля в консоль

            xhr.onload = function () {
                let content = JSON.parse(xhr.response);
                content = content.splice(0, 8);

                console.log(content); //вывожу в консоль что приходит от сервера 
                console.log(JSON.stringify(content)); // Проверка приходит ли JSON ОТ сервера
                let key;

                for (key in content) {
                    list.innerHTML += `
                        <li> 
                            <h4>${content[key].Name}</h4>
                            <h5>${content[key].Data}</h5>
                            <p>${content[key].mess}</p> 
                        </li>
                    ` // Опять исправь ключи JSON
                }
            }
            xhr.send(messT);
        }


        //  function sending () {

        //      return fetch(url, {
        //          method: 'POST',
        //          body: messT
        //      }).then(response => response.messT)
        //      .then(response => getResponse(response));
        //  }

        //     async function getResponse (response) {
        //         let response = await fetch(url);

        //         let content = await response.json();
        //         content = content.splice(0, 8);

        //         let list = document.querySelectorAll('.chatBox');

        //         let key;

        //         for (key in content) {
        //             list.innerHTML += `
        //                 <li> 
        //                     <h4>${content[key].Name + content[key].Data}</h4>
        //                     <p>${content[key].mess}</p> 
        //                 </li>
        //             `
        //         }// Исправь ID в теге <p> тк я не знаю под каким ключом идет сообщение(Вместо .mess свое)
        //     }
// 
    </script>
</html>